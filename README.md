## ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‹­ - 3ì£¼ì°¨ ê³¼ì œ
- ë°°í¬ë§í¬: [ë°”ë¡œê°€ê¸°](https://web-pre-onboarding-11th-3-12-private-7xwyjq992llizvha4k.sel4.cloudtype.app/)
- ê°œì¸ ê³¼ì œ: [íŠ¹ì • ê¹ƒí—™ ë ˆí¬ì§€í† ë¦¬](https://github.com/facebook/react/issues)ì˜ ì´ìŠˆ ëª©ë¡ê³¼ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•˜ëŠ” ì›¹ ì‚¬ì´íŠ¸ êµ¬ì¶•
- íŒ€ ê³¼ì œ: ë™ë£Œí•™ìŠµì„ í†µí•´ì„œ íŒ€ì—ì„œ ìƒê°í•œ 3ì£¼ì°¨ ê³¼ì œì˜ Best Praticeë¥¼ ë§Œë“¤ê³  ì œì¶œ ([íŒ€ ê³¼ì œ Repository](https://github.com/wanted-pre-onboarding-team12/pre-onboarding-11th-3-12))
- íŒ€ í† ë¡ : [ë¬´í•œìŠ¤í¬ë¡¤](https://github.com/wanted-pre-onboarding-team12/pre-onboarding-11th-3-12/discussions/7), [Context APIë¥¼ í™œìš©í•œ api ì—°ë™](https://github.com/wanted-pre-onboarding-team12/pre-onboarding-11th-3-12/discussions/2), [ë°ì´í„° ìš”ì²­ ì¤‘ ë¡œë”© í‘œì‹œ](https://github.com/wanted-pre-onboarding-team12/pre-onboarding-11th-3-12/discussions/3), [ì§€ì •ëœ ì¡°ê±´ì— ë§ê²Œ ë°ì´í„° ìš”ì²­ ë° í‘œì‹œ](https://github.com/wanted-pre-onboarding-team12/pre-onboarding-11th-3-12/discussions/5)
- [íŒ€ íšŒì˜ë¡ ë° íƒ€ì„ë¼ì¸](https://yangah.notion.site/f18d918b470b43b889e0f334fbf8c8c2?pvs=4), [ê°œë°œ flow](https://www.figma.com/file/fZE333aiqYLWVoJhpw0rah/%EA%B0%9C%EB%B0%9C-flow?type=design&node-id=0-1&mode=design&t=9rtDUmfLLdcSMxKs-0)


<br>

<details>
<summary>ìš”êµ¬ ì‚¬í•­</summary>
<div markdown="1">

* ì£¼ì–´ì§„ [**`ì™€ì´ì–´ í”„ë ˆì„`**](https://lean-mahogany-686.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F4dce1f3c-8939-4dbd-8568-e899d0ae91fc%2FUntitled.png?id=32732b3a-a57f-4631-9f54-664d6d4069df&table=block&spaceId=72b256b1-ae08-4e70-bb6c-f9c3cad5a793&width=2000&userId=&cache=v2) êµ¬í˜„
* Githubì˜ REST APIë¥¼ í†µí•´ Issue ë°ì´í„° í˜¸ì¶œ

* í•„ìˆ˜ ìš”êµ¬ ì‚¬í•­
  - [X] ì´ìŠˆ ëª©ë¡ ë° ìƒì„¸ í™”ë©´ ê¸°ëŠ¥ êµ¬í˜„
  - [X] Context APIë¥¼ í™œìš©í•œ API ì—°ë™
  - [X] ë°ì´í„° ìš”ì²­ ì¤‘ ë¡œë”© í‘œì‹œ
  - [X] ì—ëŸ¬ í™”ë©´ êµ¬í˜„
  - [X] ì§€ì •ëœ ì¡°ê±´(open ìƒíƒœ, ì½”ë©˜íŠ¸ ë§ì€ ìˆœ)ì— ë§ê²Œ ë°ì´í„° ìš”ì²­ ë° í‘œì‹œ
  - [X] React, Context API ì‚¬ìš©
  - [X] 5ë²ˆì§¸ ì…€ë§ˆë‹¤ ê´‘ê³  ì´ë¯¸ì§€ ì¶œë ¥
  - [X] í™”ë©´ì„ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤ í•  ì‹œ ì´ìŠˆ ëª©ë¡ ì¶”ê°€ ë¡œë”©(ì¸í”¼ë‹ˆí‹° ìŠ¤í¬ë¡¤)
  - [X] ë‘ í˜ì´ì§€ëŠ” ê³µí†µ í—¤ë”ë¥¼ ê³µìœ í•©ë‹ˆë‹¤.

* ì„ íƒ ì‚¬í•­
  - [X] CSS-in-JS ì ìš©


</div>
</details>




<br>
<br>


## í”„ë¡œì íŠ¸ ì‹œì‘ 
ë¡œì»¬ì—ì„œ í”„ë¡œì íŠ¸ ì‹¤í–‰ ì‹œ, ê¹ƒí—ˆë¸Œ í† í° í™˜ê²½ë³€ìˆ˜ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.

```
REACT_APP_GITHUB_TOKEN=ë°œê¸‰ë°›ì€ ê¹ƒí—ˆë¸Œ í† í°
```

í™˜ê²½ë³€ìˆ˜ ì„¤ì • í›„ í„°ë¯¸ë„ì— ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

```
npm install
npm start
```

<br>
<br>




## ê¸°ëŠ¥ êµ¬í˜„


### ğŸ‹ Context APIë¥¼ í™œìš©í•œ API ì—°ë™

> `í™œìš©`: API í˜¸ì¶œ ì‹œ & Headerì—ì„œ ê³µí†µì ìœ¼ë¡œ ì‚¬ìš© í•˜ê³  ìˆëŠ”`organization`, `repository` ê³µìœ  <br>
> `ì˜ë„`: ì´í›„ì— facebook & reactê°€ ì•„ë‹Œ ë‹¤ë¥¸ repoì˜ issuesë¥¼ ë°›ì•„ì˜¤ëŠ” ìƒí™© ë°œìƒì‹œ title ê°ì²´ë§Œ ë³€ê²½í•˜ë„ë¡ í•˜ê¸° ìœ„í•´ í™œìš© 

<br>

**ğŸ‘‰ğŸ» ìµœìƒë‹¨ index.tsxì—ì„œ context ìƒì„±**

```tsx
const title = {
  organization: 'facebook',
  repository: 'react',
};

export const TitleContext = createContext(title);
```

**ğŸ‘‰ğŸ» organization, repositoryì„ ì¸ìë¡œ ë°›ì•„ì„œ API í˜¸ì¶œ**

```ts
// api/index.ts

export const getIssues = ({
  organization,
  repository,
  page = 1,
}: IGetIssues) => {
  return apiClient.get(`${organization}/${repository}/issues`, {
    params: { sort: 'comments', page },
  });
};
```

```ts
// hooks/useIssuesInfiniteScroll.ts

const useIssuesInfiniteScroll = () => {
  const { organization, repository } = useContext(TitleContext);
  const getIssueList = async (page: number) => {
    if (page !== 1 && !issues.length) {
      page = 1;
    }

    const response = await getIssues({
      organization,
      repository,
      page,
    });

    setIssues(issues.concat(response.data));
    setCurrentPage(page);
    setIsLoading(false);
  };
}
```

**ğŸ‘‰ğŸ» ê³µí†µ Headerì— í™œìš©**

```tsx
// Layout/Header/index.tsx

const Header = () => {
  const title = useContext(TitleContext);
  const navigate = useNavigate();

  return (
    <HeaderBox>
      <TitleWrap onClick={() => navigate('/')}>
        <IconGithub />
        {title.organization.toUpperCase()} / {title.repository.toUpperCase()}
      </TitleWrap>
    </HeaderBox>
  );
};

```

<br>
<br>

### ğŸ‹ ì¸í”¼ë‹ˆí‹° ìŠ¤í¬ë¡¤

> ê´€ì‹¬ì‚¬ ë¶„ë¦¬: ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ì¸í”¼ë‹ˆí‹° ìŠ¤í¬ë¡¤ê³¼ issuesë¥¼ ë¶ˆëŸ¬ì˜¤ê³ , ë¡œë”©í•˜ëŠ” ê¸°ëŠ¥ì ì¸ logicì„ ë§Œë“¤ì—ˆê³ ,<br>
> UIëŠ” Home Pageì— ë‚˜íƒ€ë‚˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

<br>

**ğŸ‘‰ğŸ» `useIssuesInfiniteScroll()` ì»¤ìŠ¤í…€ í›…**

<details>
<summary> issuesë¥¼ ë°›ì•„ì˜¤ëŠ” ì—­í• </summary>
<div markdown="1">

<br>
ìµœì´ˆ ì‹¤í–‰ ì‹œ í•´ë‹¹ repositoryì˜ issues ì²« í˜ì´ì§€ issuesë¥¼ ë°›ëŠ” apië¥¼ í˜¸ì¶œí•©ë‹ˆë‹¤.

<br>

```tsx
  const getIssueList = async (page: number) => {
    const response = await getIssues({
      organization,
      repository,
      page,
    });

    setIssues(issues.concat(response.data));
    setCurrentPage(page);
    setIsLoading(false);
  };

// ì½”ë“œ ìƒëµ 

  useEffect(() => {
    getIssueList(1);
  }, []);
```

</div>
</details>


<details>
<summary> ë¬´í•œìŠ¤í¬ë¡¤ : scrollì´ í™”ë©´ ê°€ì¥ ì•„ë˜ì— ë‹¿ìœ¼ë©´ issues ë‹¤ìŒ í˜ì´ì§€ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì—­í• </summary>
<div markdown="1">


```tsx
  const handleScroll = useCallback(() => {
    const { innerHeight } = window;   // ë¸Œë¼ìš°ì €ì°½ ë‚´ìš©ì˜ í¬ê¸° (ìŠ¤í¬ë¡¤ì„ í¬í•¨X)
    const { scrollHeight } = document.body; // ë¸Œë¼ìš°ì € ì´ ë‚´ìš©ì˜ í¬ê¸° (ìŠ¤í¬ë¡¤ì„ í¬í•¨)
    const { scrollTop } = document.documentElement; // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜

// scrollTopê³¼ innerHeightë¥¼ ë”í•œ ê°’ì´ scrollHeightë³´ë‹¤ í¬ë‹¤ë©´, ì•„ë˜ì— ë„ë‹¬í–ˆë‹¤ëŠ” ì˜ë¯¸ 
    if (Math.round(scrollTop + innerHeight) >= scrollHeight) {
      setIsLoading(true);
      getIssueList(currentPage + 1);
    }
  }, [currentPage, issues]);

// ... ì½”ë“œ ìƒëµ

  useEffect(() => {
    window.addEventListener('scroll', handleScroll, true);

    return () => {
      window.removeEventListener('scroll', handleScroll, true);
    };
  }, [handleScroll]);

```

</div>
</details>





<br>
<br>

**ğŸ‘‰ğŸ» `<Home />` í˜ì´ì§€ì—ì„œ UI êµ¬í˜„**

<img width="800" alt="IssueTitle" src="https://github.com/wanted-pre-onboarding-team12/pre-onboarding-11th-3-12/assets/97151214/ffb6d5c1-ea38-4c22-8a6d-0f99fe2b0d7a">

<details>
<summary> useIssuesInfiniteScroll()ë¥¼ í˜¸ì¶œí•˜ì—¬ ë°›ì€ issuesë°°ì—´ì„ map methodë¥¼ í†µí•´ ê° ìš”ì†Œë§ˆë‹¤ 'IssueTitle ì»´í¬ë„ŒíŠ¸' ë°˜í™˜ </summary>
<div markdown="1">

```tsx
const Home = () => {
  const { issues, isLoading } = useIssuesInfiniteScroll();

  return (
    <>
      <Main>
        {issues.map((issue: IIssue, index) => {
          return (
            <React.Fragment key={issue.created_at + issue.number}>
              {index % 4 === 0 && index !== 0 && (
                <Advertisement
                  src={adObject.src}
                  alt={adObject.alt}
                  path={adObject.path}
                />
              )}
              <div>
                <StateTag>{issue.state === 'open' && <IconLeaf />}</StateTag>
                <IssueTitle
                  number={issue.number}
                  title={issue.title}
                  created_at={issue.created_at}
                  comments={issue.comments}
                  username={issue.user.login}
                />
              </div>
            </React.Fragment>
          );
        })}
      </Main>
      {isLoading && <Loading />}
    </>
  );
};
```
</div>
</details>

<br>
<br>
<br>



## êµ¬í˜„ ê²°ê³¼
<img width="1200" src="https://github.com/Yang-ah/pre-onboarding-11th-3-12-private/assets/97151214/87e3781f-ed23-403e-a41f-fa7572b4ccf4" />

